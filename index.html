<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="./css/style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;700&display=swap" rel="stylesheet">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <title>Introduction a JavaScript</title>
</head>

<body>

    <header>
        <div class="logo">
            <img src="./img/logo.jpg" alt="logo">
        </div>    

        <input type ="checkbox" id ="chk1">

        <ul class="small_screen">
            

            <li class="btn--details">
                <a href="#">Details de l'événement</a>
            </li>
            <li>
                <a href="#">A Propos</a>
            </li>
            <li>
                <a href="#">Contact</a>
            </li>
            <li>
                <a href="#">Evénements passés</a>
            </li>
        
                
        </ul>
                
            <div class="menu">
                <label for="chk1">
                    <i class="fa fa-bars" style="color:red"></i>
                </label>
            </div>
        

            
        <div class="ul_nav">

            <ul>
                <li class="btn--details">
                    <a href="#">Details de l'événement</a>
                </li>
                <li>
                    <a href="#">A Propos</a>
                </li>
                <li>
                    <a href="#">Contact</a>
                </li>
                <li>
                    <a href="#">Evénements passés</a>
                </li>
            </ul>
    
        </div>     

    </header>
    <main>

        <div class="container">
            <div class="contains">

                <div class="left">
    
                </div>
    
                <div class="right">
                    <img src="./img/img_jeu.jpg" alt="image jeu" class="img">
                </div>
            </div>
            
            <div class="content">
                <div class="text_on_image">

                    <h1 class="heading">
                        Marathon national de jeux vidéos
                    </h1>
        
                    <p class="byline">
                        Vous aimez jouer ? Notre prochain événement gaming est ouvert aux réservations... Places limitées !
                    </p>
                </div>
                
                <div class="inscription">

                    <button id="btn--inscription">
                        Je M'inscris
                    </button>
                </div>
                
            </div>
            
           

        </div>
        
        <div class="inscription_small_screen">

            <button id="btn--inscription_small_screen">
                Je M'inscris
            </button>
        </div>

        <div id="myModal" class="modal">
    
            
            <div class="modal-content">
                <span class="close">&times;</span>
                
                <div class="formulaire">

                    <form action ="#myModalValidation" method="POST" id="myForm" name="inscription">
                        <div class="form-content">

                            <label for="prenom"> Prénom </label>
                            <br> <br>
                            <input type="text" name="prenom" id="prenom" minlength="4">
                            <div id="prenom-error" style="color:red; font-size:10px"></div>
                            <br>
                            <label for="nom"> Nom </label>
                            <br><br>
                            <input type="text" name="nom" id="nom" minlength="4">
                            <div id="nom-error" style="color:red; font-size:10px"></div>
                            <br>
                            <label for="email"> E-mail </label>
                            <br><br>
                            <input type="email" name="email" id="email">
                            <div id="email-error" style="color:red; font-size:10px"></div>
                            <br>
                            <label for="datedenaissance"> Date de naissance </label>
                            <br><br>
                            <input type="date" name="datedenaissance" id="datedenaissance">
                            <div id="datedenaissance-error" style="color:red; font-size:10px"></div>
                            <br>
                            <label for="tournoi"> A combien de tournois Gameon avez vous deja participé ? </label>
                            <br><br>
                            <input type="number" name="tournoi" id="tournoi">
                            <div id="tournoi-error" style="color:red; font-size:10px"></div>
                            <br>
                            <label> A quel tournoi souhaitez vous participer cette année ? </label>
                            <br>
                            
                            <div class="radio">
 
                                <input type="radio" name="newyork" value="newyork" id="ny" checked>
                                <label for="ny"> New York </label>
        
                                <input type="radio" name="sanfranc" value="sanfranc" id="sf">
                                <label for="sf"> San Francisco </label>
        
                                <input type="radio" name="seatle" value="seatle" id="st">
                                <label for="st"> Seattle </label>
        
                                <input type="radio" name="chicago" value="chicago" id="ch">
                                <label for="ch"> Chicago </label>
        
                                <input type="radio" name="queens" value="queens" id="qn">
                                <label for="qn"> Queens </label>
        
                                <input type="radio" name="portland" value="portland" id="pl">
                                <label for="pl"> Portland </label>
                            </div>
                            <p style="color: red;" class="error"></p>
                            
                        </div>

                        <div class="check">

                            <input type="checkbox" name="conditions" id="conditions" checked>
                            <label for="conditions"> J'ai lu et accepté les conditions d'utilisation </label>
                            <br>
                            <input type="checkbox" name="avertissement" id="avertissement">
                            <label for="avertissement"> Je souhaite être averti des derniers événements </label>
                        </div>
                        
                        <span id="Error"></span>
                        <div class="btnvalidation">

                            <button id="submit" type="submit">C'est parti !</button>
                        </div>
                    </form>
                   
                    
                </div>
                
            </div>
        </div>

        <div id="myModalValidation" class="modal_validation">
            <div class="modal_validation-content">
                <span class="close">&times;</span>

                <p> Merci pour votre inscription </p>

                <div id="popIn" class="pop_in">
                    <div>
                      <div id="cover"></div>
                      <p class="style1">
                        <a href="#fermer" class="btn_bleu3"></a>
                      </p>
                    </div>
                </div>
                 <a onmouseover="Pop_up('0')" href="" style="background:#ba1c1c; border: red; cursor: pointer; border-radius: .3rem; text-align: center; padding: 15px; margin-left: 350px; color: white; width: 25px;">Fermer</a>

            </div>

        </div>

    </main>


    <footer>
        <p> Copyright 2014 - 2022, GameOn Inc. </p>
    </footer>

    <script>

        var modal = document.getElementById("myModal");
        var btn = document.getElementById("btn--inscription");
        var span = document.getElementsByClassName("close")[0];
        btn.onclick = function() {

            modal.style.display = "block";
        }

        var affichmodal = function() {
            modal.style.display = "block";

        }
    
        span.addEventListener("click",function(){
            modal.style.display="none"
        })
        
        window.onclick = function(event) {

            if (event.target == modal) {
                modal.style.display = "none";

            }

        }

        var modal = document.getElementById("myModal");
        var btn = document.getElementById("btn--inscription_small_screen");
        var span = document.getElementsByClassName("close")[0];
        btn.onclick = function() {

            modal.style.display = "block";
        }

        var affichmodal = function() {
             modal.style.display = "block";

        }
    

        span.addEventListener("click",function(){
            modal.style.display="none"
        })
        
        window.onclick = function(event) {

            if (event.target == modal) {
                modal.style.display = "none";

            }

        }


        var modal_validation = document.getElementById("myModalValidation");
        var btn = document.getElementById('submit');
        var span = document.getElementsByClassName("close")[0];
        

        var affichmodalvalidation = function() {
            modal.style.display = "block";

        }
       
        span.addEventListener("click",function(){
            modal_validation.style.display="none"
        })

        window.onclick = function(event) {

            if (event.target == modal_validation) {

                modal_validation.style.display = "none";

            }

        }

        function Pop_up(photo_id) 
	   {
        document.getElementById("cover").innerHTML = "<img src='img/covers/"+photo_id+".jpg'>";  
        window.location = "#popIn";
        }  
        
        
        var oMonModal = document.getElementById('popIn'); 
        oMonModal.addEventListener('click', function(e) 
        { 
            if (e.target.tagName === 'DIV')
            {
            document.location = '#fermer';
            } 
        });

        const form = document.getElementById('myForm');
        const prenom = document.getElementById('prenom');
        const nom = document.getElementById('nom');
        const email = document.getElementById('email');
        const datedenaissance = document.getElementById('datedenaissance');
        const tournoi = document.getElementById('tournoi');

       form.addEventListener('submit', function(e) {
        console.log('ca march');
            e.preventDefault()
            const valid = validateInputs()
            console.log(valid)
            if (valid) {
                          
                 modal_validation.style.display = "block";
            }
           
        }) 

        const setError = (id, message) => {
            const errorDisplay = document.getElementById(id+'-error');

            errorDisplay.innerText = message;
            
        }

        const setSuccess = id => {
            const errorDisplay = document.getElementById(id+'-error');


            errorDisplay.innerText = '';
            
        };

        const isValidEmail = email => {
            const re = /^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;
            return re.test(String(email).toLowerCase());
        }

        const validateInputs = () => {
            
            var prenom = document.getElementById("prenom");
            var nom = document.getElementById("nom");
            var email=document.getElementById("email");
            var datedenaissance=document.getElementById("datedenaissance");
            var tournoi=document.getElementById("tournoi");

            const prenomValue = prenom.value.trim();
            const nomValue = nom.value.trim();
            const emailValue = email.value.trim();
            const datedenaissanceValue = datedenaissance.value.trim();
            const tournoiValue = tournoi.value.trim();
            var valid = true;
            
            if(prenomValue === '') {
                setError("prenom", 'Veuillez saisir votre prénom d\'abord');
                valid= false;
            } else {
                setSuccess("prenom");
            }

            if(nomValue === '') {
                setError("nom", 'Veuillez saisir votre nom d\'abord');
                valid= false;
            } else {
                
                setSuccess("nom");
            }

            if(emailValue === '') {
                setError("email", 'Veuillez saisir votre email d\'abord');
                valid= false;
            } else if (!isValidEmail(emailValue)) {
                setError("email", 'Veuillez saisir un email valide');
                valid= false;
            } else {
                setSuccess("email");
            }


            if(datedenaissanceValue === '') {
                setError("datedenaissance", 'Veuillez saisir votre date de naissance d\'abord');
                valid= false;
            } else {
                setSuccess("datedenaissance");
            }

            if(tournoiValue === '') {
                setError("tournoi", 'Veuillez saisir le nombre de tournoi d\'abord');
                valid= false;
            } else {
                setSuccess("tournoi");
            }
             return valid;
             
        };


    </script>

</body>
</html>
